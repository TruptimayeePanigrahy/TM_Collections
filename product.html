<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TM-Collections</title>
    <link rel="stylesheet" href="product.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital@1&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />
    <!-- owlcarousel  -->
    <link rel="stylesheet" href="owlcarousel/owl.carousel.min.css" />
    <link rel="stylesheet" href="owlcarousel/owl.theme.default.min.css" />
  </head>
  <body>
    <div id="nav">
      <div id="nav-left">
        <div class="logImg">
          <i class="fa-solid fa-location-dot" style="font-size: 30px"></i>
          <a href="login.html"
            ><i
              class="fa-solid fa-user"
              style="font-size: 30px; color: black"
            ></i
          ></a>
        </div>
        <div class="projectName">
          <a href="./index.html"> <p>TM-COLLECTIONS</p></a>

          <h5>Germyn Street London</h5>
        </div>
      </div>

      <div id="nav-right">
        <div class="searchbox">
          <input type="text" placeholder="Search" id="searchInp" />
          <button id="search-btn">
            <i
              class="fa-sharp fa-solid fa-magnifying-glass"
              style="font-size: 30px"
            ></i>
          </button>
        </div>
        <div class="bagImg">
          <a href="./cart.html">
            <i
              class="fa-solid fa-bag-shopping"
              style="font-size: 30px; color: black"
            ></i
          ></a>
        </div>
      </div>
    </div>
    <div id="navTwo">
      <div>
        <a href="">SHIRTS</a>

        <a href="">SUITS</a><a href="">PANTS</a><a href="">SWEATERS</a
        ><a href="">JACKETS & COATS</a><a href="">SHOES</a
        ><a href="">ACCESSORIES</a>
      </div>
    </div>
    <div id="change">
      <div class="select">
        <select id="sort">
          <option value="">Sort By Price</option>
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
        <select id="sorting">
          <option value="">Sort By Rating</option>
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </div>
      <div class="select">
        <select onChange="sortbyrating()" id="filterbyrating">
          <option value="">Filter By Rating</option>
          <option value="4">4</option>
          <option value="3">3</option>
          <option value="2">2</option>
        </select>
        <select onchange="sortbyprice()" id="filterbyprice">
          <option value="">Filter By price</option>
          <option value="100">100</option>
          <option value="300">300</option>
          <option value="500">500</option>
        </select>
      </div>
    </div>
    <div id="container">
      <!-- data append here  -->
    </div>
    <div id="mailInp">
      <div><p>We will keep you posted on new products and great offers</p></div>
      <div>
        <div>
          <input type="text" placeholder="Mail Adress" /><button>></button>
        </div>
      </div>
    </div>
    <div id="footer">
      <div>
        <p>HELP</p>
        <p>FAQS</p>
        <p>SHIPPING</p>
        <p>RETURNS</p>
        <p>SIZE GUIDES</p>
        <p>SHIRT MULTIBUY</p>
        <p>FIND A STORE</p>
        <p>CONTACT US</p>
        <p>WHERE IS MY ORDERS?</p>
      </div>
      <div>
        <p>LEGAL</p>
        <p>TERMS AND CONDITIONS</p>
        <p>PRIVACY POLICY</p>
        <p>OUR COOKIE POLICY</p>
        <p>ACCESSIBILITY STATEMENT</p>
        <p>ETHICAL TRANDING POLICY</p>
        <p>MODERN SLAVARY STATEMENT</p>
        <p>INCLUSIVE WORKING STATEMENT</p>
        <p>MY PERSONAL INFORMATION</p>
      </div>
      <div>
        <p>MORE INFO</p>
        <p>ABOUT US</p>
        <p>CUSTOM SHIRT</p>
        <p>GIFT VOUCHER</p>
        <p>WHOLESALE PARTNERSHIPS</p>
        <p>COUPON CODES</p>
        <p>REQUEST A CATALOGUE</p>
        <p>DOING THINGS PROPERTY</p>
      </div>
      <div>
        <p>CARRERS</p>
        <p>UK VACANCIES</p>
        <p>US VACANCIES</p>
        <p>OUR BELIEFS</p>
        <p>OUR BENEFITS</p>
        <p>OUR PEOPLE</p>
        <div>
          <a href="https://en-gb.facebook.com/CharlesTyrwhitt">
            <i
              class="fa-brands fa-facebook-f"
              style="font-size: 20px; color: #001f49"
            ></i
          ></a>
          <a href="https://www.instagram.com/charlestyrwhitt/"
            ><i
              class="fa-brands fa-instagram"
              style="font-size: 20px; color: #001f49"
            ></i>
          </a>
          <a href="https://twitter.com/ctshirts"
            ><i
              class="fa-brands fa-twitter"
              style="font-size: 20px; color: #001f49"
            ></i
          ></a>
        </div>
      </div>
    </div>
    <div id="footerTwo">
      <div>
        <i class="fa-sharp fa-solid fa-lock"></i>
        <p>Shopping is secure with Charles Tyrwhitt.</p>
      </div>
      <p>We Accept:</p>
      <div class="mid">
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dwc61fa691/images/payment_methods/basket_visa.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dwb708a05a/images/payment_methods/basket_amex.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dw733cef56/images/payment_methods/basket_mastercard.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dw043e7c50/images/payment_methods/basket_paypal.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dw2f3fbf38/images/payment_methods/basket_apple_pay.svg"
          alt=""
        />
      </div>
    </div>
    <div id="flower">
      <img
        src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/en_US/dwd137d729/partner-footer-us.png"
        alt=""
      />
    </div>
    <div id="lastfooter">
      <div>
        <p>© 2022 Charles Tyrwhitt Shirts Ltd.</p>
        <p>All products are imported into the US</p>
      </div>
      <div>
        <h4>USDDEFAULT</h4>
        <h4>CHANGE COUNTRY ›</h4>
      </div>
    </div>
  </body>
  <script>
    let array = JSON.parse(localStorage.getItem("cart-product")) || [];
    let Data = [
      {
        id: 1,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw13eea116/hi-res/FON0540NAV_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",

        Name: "Spread collar Non-Iron Twill Shirt-Navy",
        Price: 99,
        Offer: "$59.75 MULTIBUY",
        rating: 4.7,
      },
      {
        id: 2,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw9626ce83/hi-res/FON0540PNK_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",

        Name: "Spread collar Non-Iron Twill Shirt-Pink",
        Price: 199,
        Offer: "$59.75 MULTIBUY",
        rating: 4.3,
      },
      {
        id: 3,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dwad6bc5cf/hi-res/FON2482LPK_COLLAR_DETAIL.jpg?sw=430&sh=540",

        Name: "Spread collar Non-Iron check Shirt-Light-Pink",
        Price: 99,
        Offer: "$59.75 MULTIBUY",
        rating: 4.5,
      },
      {
        id: 4,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw5b61ddb5/hi-res/FOR2339LBU_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",

        Name: "Spread collar Non-Iron check Shirt-Light-Blue",
        Price: 199,
        Offer: "$59.75 MULTIBUY",
        rating: 4.1,
      },
      {
        id: 5,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw3ff05452/hi-res/CSN0368RED_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Spread collar Non-Iron check Shirt-Light-Blue",
        Price: 199,
        Offer: "$59.75 MULTIBUY",
        rating: 4.1,
      },
      {
        id: 6,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw2bc1be25/hi-res/CSR0964DEN_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Button-Down  Non-Iron Check Shirt-Maron-Red",
        Price: 299,
        Offer: "$59.75 MULTIBUY",
        rating: 4.9,
      },
      {
        id: 7,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dwfa2d1a2f/hi-res/CSN0420MRN_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Button-Down  Non-Iron Check Shirt-Maron-Red",
        Price: 199,
        Offer: "$59.75 MULTIBUY",
        rating: 4.9,
      },
      {
        id: 8,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw9fc84598/hi-res/CSN0426TEL_COLLAR_DETAIL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Button-Down Non-Iron Check Shirt-Teal-Green",
        Price: 99,
        Offer: "$59.75 MULTIBUY",
        rating: 3.1,
      },
      {
        id: 9,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw54d14706/hi-res/CSR0806NAV_MODEL_TUCKED.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Collarless Listen T-shirt",
        Price: 399,
        Offer: "$59.75 MULTIBUY",
        rating: 2.8,
      },
      {
        id: 10,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw20f8e4b7/hi-res/CSR0956WHT_MODEL_TUCKED.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Button-Down Collar  Short Sleeve Shirt",
        Price: 399,
        Offer: "$59.75 MULTIBUY",
        rating: 3.7,
      },
      {
        id: 11,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dwb6fe3714/hi-res/CSB0037FRE_MODEL_FULL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Semi-Spread Collar Print Shirt - French Blue",

        Price: 299,
        Offer: "$59.75 MULTIBUY",
        rating: 3.9,
      },
      {
        id: 12,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw6e1a13d2/hi-res/CSB0200MLT_MODEL_FULL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Semi-Spread Collar  Print Shirt - Multi",

        Price: 199,
        Offer: "$59.75 MULTIBUY",
        rating: 4.8,
      },
      {
        id: 13,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dwf91cbff9/hi-res/CSR0905SKY_MODEL_TUCKED.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Button-Down Collar Shirt - Sky Blue",

        Price: 99,
        Offer: "$59.75 MULTIBUY",
        rating: 3.5,
      },
      {
        id: 14,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw4c0f659e/hi-res/CSQ0028PNK_MODEL_TUCKED.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "England Rugby Button-Down Stripe Shirt - Pink",

        Price: 299,
        Offer: "$59.75 MULTIBUY",
        rating: 5.0,
      },
      {
        id: 15,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw300da162/hi-res/CSB0079PUR_MODEL_FULL.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Made with Liberty  Collar Shirt - Purple",

        Price: 499,
        Offer: "$59.75 MULTIBUY",
        rating: 4.0,
      },
      {
        id: 16,
        image:
          "https://www.charlestyrwhitt.com/dw/image/v2/AAWJ_PRD/on/demandware.static/-/Sites-ctshirts-master/default/dw48f6336a/hi-res/CSR2036MRN_MODEL_UNTUCKED.jpg?sw=430&sh=538&sm=fit&q=42",
        Name: "Button-Down Collar Plain Shirt - Maroon Red",

        Price: 499,
        Offer: "$59.75 MULTIBUY",
        rating: 4.5,
      },
    ];
    display(Data);
    function display(data) {
      let container = document.getElementById("container");
      container.innerHTML = null;
      data.forEach((element, index) => {
        let box = document.createElement("div");
        box.setAttribute("class", "box");

        let image = document.createElement("img");
        image.src = element.image;

        let name = document.createElement("p");
        name.innerText = element.Name;

        let price = document.createElement("h3");
        price.innerText = `$${element.Price}`;

        let offers = document.createElement("p");
        offers.innerText = element.Offer;

        let rateInp = document.createElement("h4");
        rateInp.innerText = "Rating:-" + Number(element.rating);

        let button = document.createElement("button");
        button.innerText = "Add To Cart";
        button.addEventListener("click", () => {
          let filtered = array.filter((ele, i) => {
            if (element.id == ele.id) {
              return true;
            } else {
              return false;
            }
          });
          if (filtered.length > 0) {
            alert("Product Already In Cart");
          } else {
            let obj = { ...element, quantity: 1 };

            array.push({ ...element, quantity: 1 });

            localStorage.setItem("cart-product", JSON.stringify(array));
            alert("Product Added To cart successfully");
          }
        });

        box.append(image, name, price, offers, rateInp, button);
        container.append(box);
      });
    }

    // sort function
    let select1 = document.getElementById("sort");
    let select2 = document.getElementById("sorting");
    select1.addEventListener("change", () => {
      compareTwo(select1.value);
    });
    function compareTwo(value) {
      console.log(value);
      if (select1.value == "") {
        display(Data);
      } else {
        let arr = [];
        arr = Data.sort((a, b) => {
          if (value == "asc") {
            if (a.Price < b.Price) {
              return -1;
            } else if (a.Price > b.Price) {
              return 1;
            } else {
              return 0;
            }
          } else {
            if (a.Price < b.Price) {
              return 1;
            } else if (a.Price > b.Price) {
              return -1;
            } else {
              return 0;
            }
          }
        });
        display(Data);
      }
    }
    select2.addEventListener("change", () => {
      compare(select2.value);
    });
    function compare(value) {
      if (select2.value == "") {
        display(Data);
      } else {
        let arr = [];
        arr = Data.sort((a, b) => {
          if (value == "asc") {
            if (a.rating < b.rating) {
              return -1;
            } else if (a.rating > b.rating) {
              return 1;
            } else {
              return 0;
            }
          } else {
            if (a.rating < b.rating) {
              return 1;
            } else if (a.rating > b.rating) {
              return -1;
            } else {
              return 0;
            }
          }
        });
        display(Data);
      }
    }
    // search function
    let searchbutton = document.getElementById("search-btn");

    searchbutton.addEventListener("click", () => {
      let searchparam = document.getElementById("searchInp").value;
      let filtered = Data.filter((ele, i) => {
        if (
          ele.Name.toUpperCase().includes(searchparam.toUpperCase()) === true
        ) {
          return true;
        } else {
          return false;
        }
      });
      display(filtered);
    });
    // filter function

    function sortbyrating() {
      let filterbyratingInp = document.getElementById("filterbyrating");
      if (filterbyratingInp.value == "") {
        display(Data);
      } else {
        let filtered = Data.filter((ele, ind) => {
          if (ele.rating <= Number(filterbyratingInp.value)) {
            return true;
          } else {
            return false;
          }
        });
        display(filtered);
      }
    }

    function sortbyprice() {
      let filter = document.getElementById("filterbyprice");
      if (filter.value == "") {
        display(Data);
      } else {
        let filtered = Data.filter((ele, ind) => {
          if (ele.Price <= Number(filter.value)) {
            return true;
          } else {
            return false;
          }
        });
        display(filtered);
      }
    }
  </script>
</html>
