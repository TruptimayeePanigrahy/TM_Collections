<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TM-Collections</title>
    <link rel="stylesheet" href="cart.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital@1&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />
    <!-- owlcarousel  -->
    <link rel="stylesheet" href="owlcarousel/owl.carousel.min.css" />
    <link rel="stylesheet" href="owlcarousel/owl.theme.default.min.css" />
  </head>
  <body>
    <div id="nav">
      <div id="nav-left">
        <div class="logImg">
          <i class="fa-solid fa-location-dot" style="font-size: 30px"></i>
          <a href="login.html"
            ><i
              class="fa-solid fa-user"
              style="font-size: 30px; color: black"
            ></i
          ></a>
        </div>
        <div class="projectName">
          <a href="./index.html"> <p>TM COLLECTIONS</p></a>

          <h5>Germyn Street London</h5>
        </div>
      </div>

      <div id="nav-right">
        <div class="searchbox">
          <input type="text" placeholder="Search" />
          <i
            class="fa-sharp fa-solid fa-magnifying-glass"
            style="font-size: 30px"
          ></i>
        </div>
        <div class="bagImg">
          <a href="./cart.html">
            <i
              class="fa-solid fa-bag-shopping"
              style="font-size: 30px; color: black"
            ></i
          ></a>
        </div>
      </div>
    </div>
    <div id="navTwo">
      <div>
        <a href="">SHIRTS</a>

        <a href="">SUITS</a><a href="">PANTS</a><a href="">SWEATERS</a
        ><a href="">JACKETS & COATS</a><a href="">SHOES</a
        ><a href="">ACCESSORIES</a>
      </div>
    </div>
    <div id="product-container">
      <!-- append here  -->
    </div>
    <hr />
    <p id="grandtotal">
      <!-- total append here  -->
    </p>
    <div id="proceed">
      <button id="checkpayment">Check Out</button>
    </div>

    <div id="mailInp">
      <div><p>We will keep you posted on new products and great offers</p></div>
      <div>
        <div>
          <input type="text" placeholder="Mail Adress" /><button>></button>
        </div>
      </div>
    </div>
    <div id="footer">
      <div>
        <p>HELP</p>
        <p>FAQS</p>
        <p>SHIPPING</p>
        <p>RETURNS</p>
        <p>SIZE GUIDES</p>
        <p>SHIRT MULTIBUY</p>
        <p>FIND A STORE</p>
        <p>CONTACT US</p>
        <p>WHERE IS MY ORDERS?</p>
      </div>
      <div>
        <p>LEGAL</p>
        <p>TERMS AND CONDITIONS</p>
        <p>PRIVACY POLICY</p>
        <p>OUR COOKIE POLICY</p>
        <p>ACCESSIBILITY STATEMENT</p>
        <p>ETHICAL TRANDING POLICY</p>
        <p>MODERN SLAVARY STATEMENT</p>
        <p>INCLUSIVE WORKING STATEMENT</p>
        <p>MY PERSONAL INFORMATION</p>
      </div>
      <div>
        <p>MORE INFO</p>
        <p>ABOUT US</p>
        <p>CUSTOM SHIRT</p>
        <p>GIFT VOUCHER</p>
        <p>WHOLESALE PARTNERSHIPS</p>
        <p>COUPON CODES</p>
        <p>REQUEST A CATALOGUE</p>
        <p>DOING THINGS PROPERTY</p>
      </div>
      <div>
        <p>CARRERS</p>
        <p>UK VACANCIES</p>
        <p>US VACANCIES</p>
        <p>OUR BELIEFS</p>
        <p>OUR BENEFITS</p>
        <p>OUR PEOPLE</p>
        <div>
          <a href="https://en-gb.facebook.com/CharlesTyrwhitt">
            <i
              class="fa-brands fa-facebook-f"
              style="font-size: 20px; color: #001f49"
            ></i
          ></a>
          <a href="https://www.instagram.com/charlestyrwhitt/"
            ><i
              class="fa-brands fa-instagram"
              style="font-size: 20px; color: #001f49"
            ></i>
          </a>
          <a href="https://twitter.com/ctshirts"
            ><i
              class="fa-brands fa-twitter"
              style="font-size: 20px; color: #001f49"
            ></i
          ></a>
        </div>
      </div>
    </div>
    <div id="footerTwo">
      <div>
        <i class="fa-sharp fa-solid fa-lock"></i>
        <p>Shopping is secure with Charles Tyrwhitt.</p>
      </div>
      <p>We Accept:</p>
      <div class="mid">
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dwc61fa691/images/payment_methods/basket_visa.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dwb708a05a/images/payment_methods/basket_amex.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dw733cef56/images/payment_methods/basket_mastercard.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dw043e7c50/images/payment_methods/basket_paypal.svg"
          alt=""
        />
        <img
          src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/default/dw2f3fbf38/images/payment_methods/basket_apple_pay.svg"
          alt=""
        />
      </div>
    </div>
    <div id="flower">
      <img
        src="https://www.charlestyrwhitt.com/on/demandware.static/-/Library-Sites-CTShirtsSharedLibrary/en_US/dwd137d729/partner-footer-us.png"
        alt=""
      />
    </div>
    <div id="lastfooter">
      <div>
        <p>© 2022 Charles Tyrwhitt Shirts Ltd.</p>
        <p>All products are imported into the US</p>
      </div>
      <div>
        <h4>USDDEFAULT</h4>
        <h4>CHANGE COUNTRY ›</h4>
      </div>
    </div>
  </body>
  <script>
    let array2 = JSON.parse(localStorage.getItem("cart-product")) || [];
    displayTwo(array2);
    grandTotal(array2);
    function displayTwo(data) {
      let container = document.getElementById("product-container");
      container.innerHTML = null;
      data.forEach((element, index) => {
        let box = document.createElement("div");
        let leftbox = document.createElement("div");
        let rightbox = document.createElement("div");
        box.setAttribute("class", "box");

        let image = document.createElement("img");
        image.src = element.image;

        let name = document.createElement("p");
        name.innerText = element.Name;

        let price = document.createElement("h3");
        price.innerText = `$${element.Price}`;

        let offers = document.createElement("p");
        offers.innerText = element.Offer;

        let rateInp = document.createElement("h4");
        rateInp.innerText = "Rating:-" + Number(element.rating);

        let button = document.createElement("button");
        button.innerText = "Remove";
        button.addEventListener("click", () => {
          array2 = array2.filter((ele, i) => {
            if (element.id == ele.id) {
              return false;
            } else {
              return true;
            }
          });
          localStorage.setItem("cart-product", JSON.stringify(array2));
          displayTwo(array2);
          grandTotal(array2);
        });

        let spanInp = document.createElement("span");
        spanInp.innerText = element.quantity;

        let buttonOne = document.createElement("button");
        buttonOne.innerText = "-";
        buttonOne.addEventListener("click", () => {
          let arr = [];
          array2.forEach((ele, i) => {
            if (index === i && array2[i].quantity > 1) {
              ele.quantity--;
            }
            arr.push(ele);
          });
          localStorage.setItem("cart-product", JSON.stringify(arr));
          displayTwo(arr);
          grandTotal(arr);
        });

        let buttonTwo = document.createElement("button");
        buttonTwo.innerText = "+";
        buttonTwo.addEventListener("click", () => {
          let arr = [];
          array2.forEach((ele, i) => {
            if (index === i) {
              array2[i].quantity++;
            }
            arr.push(array2[i]);
          });
          localStorage.setItem("cart-product", JSON.stringify(arr));
          displayTwo(arr);
          grandTotal(arr);
        });

        leftbox.append(image);
        rightbox.append(
          name,
          price,
          offers,
          rateInp,
          buttonOne,
          spanInp,

          buttonTwo,
          button
        );
        box.append(leftbox, rightbox);
        container.append(box);
      });
    }
    function grandTotal(Data) {
      let total = document.getElementById("grandtotal");
      let sum = 0;
      for (let i = 0; i < Data.length; i++) {
        sum += Data[i].Price * Data[i].quantity;
      }

      total.innerText = `Total Price :- $${sum}`;
      return sum;
    }
    let checkbutton = document.getElementById("checkpayment");
    checkbutton.addEventListener("click", () => {
      localStorage.setItem("check-pay", JSON.stringify(grandTotal(array2)));
      window.location.href = "./checkout.html";
    });
  </script>
</html>
